<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MONDRIVER</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;900&display=swap" rel="stylesheet">

<!-- GOOGLE MAPS API -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPIaWMQd6o4K8miOzLAFUU8-s3wVOehpI&libraries=places"></script>

<style>
body{
    margin:0;
    font-family:'Montserrat',sans-serif;
    background:#000;
    color:#fff;
    text-align:center;
}

/* TITLE */
h1{
    margin-top:25px;
    font-size:48px;
    font-weight:900;
    letter-spacing:6px;
    text-shadow:0 0 15px rgba(255,255,255,0.25);
}

/* FLAGS */
#lang-selector{
    position:absolute;
    top:15px;
    right:20px;
}
#lang-selector img{
    width:28px;
    margin-left:8px;
    cursor:pointer;
    border-radius:4px;
    transition:0.2s;
}
#lang-selector img:hover{
    transform:scale(1.15);
}

/* FORM CONTAINER */
.container{
    width:92%;
    max-width:500px;
    margin:30px auto;
    padding:25px;
    border-radius:18px;
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
    box-shadow:0 0 20px rgba(255,255,255,0.08);
    text-align:left;
}

/* LABEL */
label{
    font-weight:600;
    font-size:15px;
    margin-bottom:6px;
    display:block;
}

/* INPUTS & SELECTS */
input, select{
    width:100%;
    padding:14px;
    margin-bottom:18px;
    border:none;
    border-radius:10px;
    background:rgba(0,0,0,0.4);
    color:white;
    font-size:16px;
    box-shadow:inset 0 0 10px rgba(255,255,255,0.15);
}

/* SELECT PREMIUM */
select{
    background:#111;
    border:1px solid #444;
}

/* PRICE */
#prix{
    font-size:30px;
    font-weight:700;
    text-align:center;
    margin:15px 0;
    display:none;
    color:#0af;
    text-shadow:0 0 10px #0af;
}

/* BUTTONS */
button{
    width:100%;
    padding:18px;
    border:none;
    border-radius:10px;
    font-size:18px;
    font-weight:700;
    cursor:pointer;
    margin-bottom:12px;
    transition:0.25s;
}
button:hover{
    transform:scale(1.05);
}

.btn-blue{
    background:#007bff;
    color:white;
}
.btn-green{
    background:#28a745;
    color:white;
}

/* FOOTER BUTTONS */
.footer-btn{
    display:inline-block;
    width:44%;
    padding:15px;
    background:#333;
    color:white;
    border-radius:8px;
    text-decoration:none;
    font-weight:600;
    margin:15px 2%;
    text-align:center;
}
.footer-btn:hover{
    transform:scale(1.07);
}
</style>
</head>

<body>

<!-- LANG FLAGS -->
<div id="lang-selector">
    <img src="https://flagcdn.com/w40/fr.png" onclick="setLang('fr')">
    <img src="https://flagcdn.com/w40/gb.png" onclick="setLang('en')">
    <img src="https://flagcdn.com/w40/es.png" onclick="setLang('es')">
</div>

<!-- TITLE -->
<h1 id="title">MONDRIVER</h1>

<!-- FORM -->
<div class="container">

    <label id="lbl_depart">Adresse de dÃ©part</label>
    <input id="depart" placeholder="Adresse de dÃ©part">

    <label id="lbl_arrivee">Adresse d'arrivÃ©e</label>
    <input id="arrivee" placeholder="Adresse d'arrivÃ©e">

    <label id="lbl_date">Date</label>
    <input type="date" id="date">

    <label id="lbl_heure">Heure</label>
    <input type="time" id="heure">

    <label id="lbl_personnes">Personnes</label>
    <select id="personnes">
        <option value="1">1</option><option value="2">2</option>
        <option value="3">3</option><option value="4">4</option>
        <option value="5">5</option><option value="6">6</option>
        <option value="7">7</option><option value="8">8</option>
    </select>

    <label id="lbl_vehicule">Choix du vÃ©hicule</label>
    <select id="vehicule">
        <option value="berline">Berline</option>
        <option value="6p">6 places / 4 places + gros bagages</option>
        <option value="van">Van</option>
    </select>

    <label id="lbl_bagages">Bagages</label>
    <select id="bagages">
        <option>0</option><option>1</option><option>2</option>
        <option>3</option><option>4</option><option>5</option><option>6</option>
    </select>

    <label id="lbl_sieges">SiÃ¨ges enfants</label>
    <select id="sieges">
        <option>0</option><option>1</option><option>2</option>
    </select>

    <label id="lbl_animaux">Animaux</label>
    <select id="animaux">
        <option value="non">Non</option>
        <option value="oui">Oui</option>
    </select>

    <label id="lbl_tel">TÃ©lÃ©phone</label>
    <input id="tel" placeholder="+33 7 00 00 0000">

    <label id="lbl_email">Email</label>
    <input id="email" placeholder="email@example.com">

    <div id="prix"></div>

    <button class="btn-blue" onclick="calculerPrix()">CALCULER LE PRIX</button>
    <button class="btn-green" onclick="envoyerReservation()">LANCER MA RÃ‰SERVATION</button>

</div>

<!-- FOOTER -->
<a href="tel:+33750572722" class="footer-btn">ðŸ“ž Appeler chauffeur</a>
<a href="mailto:mondriver33@gmail.com" class="footer-btn">ðŸ“© Contactez-nous</a>


<script>
/* GOOGLE AUTOCOMPLETE */
function initAutocomplete(){
    new google.maps.places.Autocomplete(document.getElementById("depart"));
    new google.maps.places.Autocomplete(document.getElementById("arrivee"));
}
google.maps.event.addDomListener(window,'load',initAutocomplete);

/* PRICE CALCULATION */
function calculerPrix(){

    const dep=document.getElementById("depart").value;
    const arr=document.getElementById("arrivee").value;
    const personnes=parseInt(document.getElementById("personnes").value);
    const vehicule=document.getElementById("vehicule").value;

    if(!dep || !arr){
        alert("Veuillez entrer les deux adresses.");
        return;
    }

    if(personnes>=7){
        document.getElementById("vehicule").value="van";
        document.getElementById("vehicule").disabled=true;
    } else {
        document.getElementById("vehicule").disabled=false;
    }

    const url=`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${encodeURIComponent(dep)}&destinations=${encodeURIComponent(arr)}&key=AIzaSyBPIaWMQd6o4K8miOzLAFUU8-s3wVOehpI`;

    fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`)
    .then(r=>r.json())
    .then(data=>{
        const parsed=JSON.parse(data.contents);
        const meters=parsed.rows[0].elements[0].distance.value;
        const km=meters/1000;

        let prixKm=2;
        let suppVeh=0;

        if(vehicule==="6p"){ prixKm=2.10; suppVeh=10; }
        if(vehicule==="van"){ prixKm=2.10; suppVeh=15; }

        let prix=km*prixKm + suppVeh;
        if(prix < 20) prix=20;

        document.getElementById("prix").innerHTML="Prix estimÃ© : "+prix.toFixed(2)+" â‚¬";
        document.getElementById("prix").style.display="block";
    });
}

/* SEND RESERVATION */
function envoyerReservation(){

    const infos={
        dep:document.getElementById("depart").value,
        arr:document.getElementById("arrivee").value,
        date:document.getElementById("date").value,
        heure:document.getElementById("heure").value,
        pers:document.getElementById("personnes").value,
        bag:document.getElementById("bagages").value,
        sie:document.getElementById("sieges").value,
        ani:document.getElementById("animaux").value,
        veh:document.getElementById("vehicule").value,
        tel:document.getElementById("tel").value,
        email:document.getElementById("email").value,
        prix:document.getElementById("prix").innerText
    };

    let msg=
`ðŸš¨ Nouvelle demande de rÃ©servation MONDRIVER ðŸš¨

ðŸ“ DÃ©part : ${infos.dep}
ðŸ ArrivÃ©e : ${infos.arr}

ðŸ“… Date : ${infos.date}
â° Heure : ${infos.heure}

ðŸ‘¥ Personnes : ${infos.pers}
ðŸ§³ Bagages : ${infos.bag}
ðŸ§’ SiÃ¨ges enfants : ${infos.sie}
ðŸ¾ Animaux : ${infos.ani}
ðŸš˜ VÃ©hicule : ${infos.veh}

${infos.prix}

ðŸ“ž Client : ${infos.tel}
ðŸ“§ Email : ${infos.email}

Merci de confirmer la rÃ©servation.`;

    window.open(
        `https://api.whatsapp.com/send?phone=33750572722&text=${encodeURIComponent(msg)}`
    );

    window.location.href=
    `mailto:mondriver33@gmail.com?subject=Nouvelle RÃ©servation&body=${encodeURIComponent(msg)}`;
}

/* MULTI-LANGUE */
const dictionnaire={
    fr:{lbl_depart:"Adresse de dÃ©part",lbl_arrivee:"Adresse d'arrivÃ©e",lbl_date:"Date",lbl_heure:"Heure",lbl_personnes:"Personnes",lbl_vehicule:"Choix du vÃ©hicule",lbl_bagages:"Bagages",lbl_sieges:"SiÃ¨ges enfants",lbl_animaux:"Animaux",lbl_tel:"TÃ©lÃ©phone",lbl_email:"Email"},
    en:{lbl_depart:"Departure",lbl_arrivee:"Arrival",lbl_date:"Date",lbl_heure:"Time",lbl_personnes:"Passengers",lbl_vehicule:"Vehicle",lbl_bagages:"Luggage",lbl_sieges:"Child seats",lbl_animaux:"Animals",lbl_tel:"Phone",lbl_email:"Email"},
    es:{lbl_depart:"DirecciÃ³n de salida",lbl_arrivee:"DirecciÃ³n de llegada",lbl_date:"Fecha",lbl_heure:"Hora",lbl_personnes:"Personas",lbl_vehicule:"VehÃ­culo",lbl_bagages:"Equipaje",lbl_sieges:"Sillas infantiles",lbl_animaux:"Animales",lbl_tel:"TelÃ©fono",lbl_email:"Correo electrÃ³nico"}
};

function setLang(l){
    for(let id in dictionnaire[l]){
        document.getElementById(id).innerText=dictionnaire[l][id];
    }
}
</script>

</body>
</html>